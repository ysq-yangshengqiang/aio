好的，遵照您的指示。

我已经将您提供的所有需求分析文档，以及我们之前讨论的“启明星”平台设计、L.I.G.H.T.架构和新增的建设性功能，全面整合并重构，形成了一份完整的、可供研发团队直接使用的产品需求文档（PRD）。

这份PRD不仅包含了“什么功能”，更阐述了“为何要做”（愿景与价值）、“为谁而做”（用户画像与故事）、“如何实现”（架构与原则），并规划了清晰的实施路径和成功标准。

---

# **🌟 “启明星” (Morning Star) 平台产品需求文档 (PRD)**

- **文档版本**: 2.0
- **创建日期**: 2025-08-21
- **状态**: 最终版
- **编写者**: Gemini AI
- **目标读者**: 项目团队、产品经理、技术负责人、UI/UX设计师、学院领导

---

## **1. 产品概述 (Overview)**

### 1.1 项目愿景 (Vision)

打造一个AI原生的智慧教育环境，让河北师范大学软件学院的每一位学生都拥有一个专属的AI导师、AI学伴和AI生涯规划师。我们致力于实现从“千人一面的教育”到“一人一策的成长”的根本性转变，最终达成AI自动化辅助教育管理，赋能学生成为自我驱动的“成长CEO”。

### 1.2 问题陈述 (Problem Statement)

传统的教育管理系统是被动的、孤立的，无法满足现代个性化教育的需求：

* **学生缺乏个性化指导**: 学生在学习规划、困难诊断和资源获取上缺少即时、个性化的支持，导致学习效率低下和动力不足。
* **教师管理负担重**: 教师被淹没在批改作业、追踪进度、答疑等重复性工作中，难以对每位学生进行深度关注和引导。
* **学院决策缺少数据洞察**: 管理层缺乏对全院师生学习状态的实时、全局、多维度的洞察，难以做出科学的教学和资源配置决策。
* **目标与执行脱节**: 学生的学习行为与长远发展目标缺乏有效关联，学习过程容易迷失方向。

### 1.3 核心目标与价值 (Goals & Value Proposition)

“启明星”平台旨在通过AI与OKR的深度融合，解决上述问题，提供以下核心价值：

1. **赋能学生个性化成长**: AI辅助学生制定并执行个人发展计划（OKR），提供全天候的智能诊断、资源推荐和进度督促，激发内在驱动力。
2. **为教师管理增效**: AI代替/辅助教师完成重复性管理工作（如进度追踪、问题预警、初步答疑），让教师能专注于更高价值的引导与激励。
3. **驱动学院决策优化**: 为管理者提供实时、可视化的全局数据洞察，辅助教学改革、资源调配和风险预警。
4. **实现目标与过程对齐**: 通过OKR框架，将学院战略、课程目标与学生个人发展计划紧密对齐，确保所有努力都服务于共同的目标。

---

## **2. 用户画像与核心故事 (User Personas & Stories)**

### 2.1 学生 - 小明 (大二软件工程专业)

* **背景**: 对技术有热情，目标是毕业后进入一线互联网公司。但时常在学习规划上感到迷茫，遇到Bug时容易卡住，不知道如何高效利用资源。
* **核心需求**:
  * **User Story 1**: “作为一个有目标的学生，我希望**AI能帮我把我‘进入大厂’的长期目标，拆解成每学期、每周、每日可执行的学习任务和项目**，这样我就知道每天该做什么了。”
  * **User Story 2**: “当我写代码遇到一个搞不懂的Bug时，我希望**AI能立刻诊断出可能的原因，并给我推荐B站上讲得最好的视频教程或相关的技术博客**，而不是让我一个人在网上大海捞针。”
  * **User Story 3**: “我希望有一个地方能**自动记录我学会了哪些技术、完成了哪些项目，并用可视化的图表展示我的成长**，这会让我非常有成就感。”

### 2.2 教师 - 王老师 (《数据结构》课程教师 & 班主任)

* **背景**: 教学经验丰富，关心每一位学生。但班级人数多，无法及时掌握所有学生的学习状况，常常在学期末才发现有学生“掉队”。
* **核心需求**:
  * **User Story 1**: “作为一名教师，我希望能**一打开系统就看到我班级学生的整体学习进度仪表盘，并让AI自动标出那些可能存在学习风险的学生**，这样我就可以提前进行干预。”
  * **User Story 2**: “当AI发现班里超过30%的学生都在同一个编程作业的知识点上出错时，我希望**系统能主动给我发一条预警，并建议我在下节课重点讲解这个知识点**。”
  * **User Story 3**: “我希望能**减少批改作业和回答重复性问题的时间**，把更多精力放在课程设计和与学生进行有深度的交流上。”

### 2.3 学院管理员 - 李院长

* **背景**: 负责整个软件学院的教学管理和战略发展，需要宏观数据来支持决策。
* **核心需求**:
  * **User Story 1**: “作为学院管理者，我需要一个**实时更新的管理大屏，直观地看到全院各年级、各专业的挂科率、项目完成度和资源利用率**，而不是等每个月末的纸质报告。”
  * **User Story 2**: “当系统分析出某几门课程的资源（如服务器、实验室）使用率过高，而另一些资源闲置时，我希望**AI能提出资源优化的智能建议**，以提高我们学院的整体运营效率。”

---

## **3. 核心原则与架构 (Core Principles & Architecture)**

本平台的设计与实现将严格遵循两大核心原则：

* **管理哲学**: **OKR (目标与关键结果)** 是驱动平台所有行为的顶层框架，确保目标导向和自驱成长。
* **技术架构**: **“灯塔” (L.I.G.H.T.) 架构** 是实现平台愿景的技术基石，确保系统高效、智能、可演化。

*(L.I.G.H.T. 架构的详细阐述，包括L-精简后端, I-智能前端, G-Git驱动, H-超大规模数据层, T-模板化AI智能体，以及三大护栏：安全、可观测性、成本控制，将作为本PRD的技术附件和指导原则。)*

---

## **4. 功能需求 (Functional Requirements)**

### 模块一：统一用户中心与OKR管理

| Feature ID   | 功能名称            | 详细描述                                                                         | 优先级    |
|:------------ |:--------------- |:---------------------------------------------------------------------------- |:------ |
| **OKR-101**  | **AI辅助OKR制定**   | 学生登录后，在**学生AI**引导下设定学期/学年目标(O)，AI会根据目标推荐并帮助其设定3-5个可衡量的关键结果(KR)。支持从模板库选择或自定义。 | **最高** |
| **OKR-102**  | **OKR层级对齐**     | 平台支持学院、课程、个人三级OKR。学生设定的OKR可与课程OKR或学院战略目标进行对齐关联。                              | **高**  |
| **OKR-103**  | **OKR进度追踪与可视化** | 提供可视化的OKR目标树和进度仪表盘。学生可手动更新KR进度，AI也会根据其学习活动数据自动更新部分KR的进度。                     | **最高** |
| **USER-101** | **统一身份认证**      | 与学校现有学工/教务系统对接，实现师生身份的单点登录。入学即用，自动初始化学生档案。                                   | **最高** |

### 模块二：学生AI学习伴侣 (Student AI Co-pilot)

| Feature ID  | 功能名称          | 详细描述                                                                              | 优先级    |
|:----------- |:------------- |:--------------------------------------------------------------------------------- |:------ |
| **STU-201** | **个性化学习计划生成** | 基于学生的OKR，**学生AI**自动生成每日/每周的待办任务清单，并提供合理的时间安排建议。任务直接关联到具体的KR。                      | **最高** |
| **STU-202** | **任务障碍智能诊断**  | 当学生将任务标记为“受阻”时，**学生AI**会主动询问并分析障碍原因，提供个性化解决方案。                                    | **最高** |
| **STU-203** | **全网学习资源推荐**  | 针对诊断出的学习障碍，AI会整合学院知识库、YouTube、Bilibili、技术博客等多平台学习资源，根据学生偏好推荐最合适的教程。               | **最高** |
| **STU-204** | **实时进度偏差预警**  | **学生AI**实时监控个人OKR进度与计划的偏差，一旦滞后，会提前发出预警通知，并提供纠偏建议。                                 | **高**  |
| **STU-205** | **智能任务激励系统**  | 当检测到学生提前或超额完成任务后，**学生AI**会自动分析其OKR和成长需求，智能匹配并分配新的“挑战任务”或“探索课题”，并在周报中自动表扬。         | **中**  |
| **STU-206** | **个人成长画像**    | AI根据学生完成的OKR、项目数据、技能掌握情况，自动生成可视化的个人成长画像，清晰展示技能发展轨迹。当画像不理想时，AI会在后续任务设计中进行针对性提醒和改进。 | **高**  |
| **STU-207** | **RAG知识库问答**  | 7x24小时的智能问答服务，基于学院的知识库（教材、讲义、代码库、历史答疑），为学生提供精准解答。                                 | **最高** |

### 模块三：教师AI教学助手 (Teacher AI Assistant)

| Feature ID  | 功能名称         | 详细描述                                                            | 优先级    |
|:----------- |:------------ |:--------------------------------------------------------------- |:------ |
| **TEA-301** | **班级学情看板**   | **教师AI**自动生成所管理班级/课程的学情仪表盘，汇总展示整体OKR进度、知识点掌握情况、平均成绩等。           | **最高** |
| **TEA-302** | **主动干预预警**   | AI自动识别并高亮显示需要关注的学生（如进度严重滞后、连续熬夜、特定知识点反复出错），并主动向教师发送预警和“学生关怀建议”。 | **最高** |
| **TEA-303** | **学生负荷智能分析** | **教师AI**智能分析班级学生的学习负荷情况，识别“学不动”或“吃不饱”的个体，为教师提供任务调整建议。           | **高**  |
| **TEA-304** | **自动化报告生成**  | 自动生成项目组内每个成员的进展周报，清晰展示任务达标情况、完成度，并汇总遇到的问题，为教学例会提供结构化数据。         | **高**  |

### 模块四：学院AI管理驾驶舱 (College AI Dashboard)

| Feature ID  | 功能名称         | 详细描述                                                             | 优先级   |
|:----------- |:------------ |:---------------------------------------------------------------- |:----- |
| **ADM-401** | **学院健康度大屏**  | **学院AI**提供全院学业健康度的实时可视化大屏，支持按年级、专业等多维度钻取分析挂科率、就业率、学分完成度等核心指标。    | **高** |
| **ADM-402** | **资源优化智能建议** | **学院AI**分析全院范围内的资源（如图书馆、服务器、实验室）使用情况，识别资源分配不均衡问题，并提供跨组资源共享的智能建议。 | **中** |

### 模块五：AIP平台集成

| Feature ID  | 功能名称       | 详细描述                                                               | 优先级   |
|:----------- |:---------- |:------------------------------------------------------------------ |:----- |
| **INT-501** | **数据双向同步** | 学生在AIP平台中的项目活动数据（任务完成度、代码提交、协作表现）能实时同步至“启明星”平台，作为学生成长画像和OKR进度的一部分。 | **高** |
| **INT-502** | **AI能力互通** | “启明星”的AI智能体可以调用和分析来自AIP平台的数据，形成学术学习与项目实践的统一视图，进行综合评估和指导。           | **中** |

---

## **5. AI智能体架构 (AI Agent Architecture)**

本平台的核心是三级AI智能体，它们是L.I.G.H.T.架构中**T (Templated AI Agents)**的具体实现。

* **1. 学院级AI (College AI)**: 学院的“智能院长”，负责**宏观态势感知、资源优化配置、教学质量评估**。
* **2. 教师级AI (Teacher AI)**: 教师的“超级助教”，负责**班级学情分析、学生风险预警、教学干预建议、学生负荷分析**。
* **3. 学生级AI (Student AI)**: 学生的“私人成长教练”，负责**OKR制定与拆解、个性化计划生成、任务障碍诊断、资源推荐、进度预警、成长画像生成**。

*(每个智能体的详细职责、输入、输出、以及它们之间的协同工作流，请参考技术设计文档。)*

---

## **6. 数据与系统架构 (Data & System Architecture)**

*(本节概述，详细内容见技术设计文档。)*

* **技术栈**: 遵循L.I.G.H.T.架构，采用Next.js, Vercel AI SDK, FastAPI/Go, Supabase (Postgres, pgvector, Realtime), n8n, LangGraph, GitHub, Vercel, Turborepo等。
* **数据模型**: 核心数据表将扩展，新增`okrs`, `key_results`, `growth_profiles`, `skill_tags`, `learning_activities`, `ai_recommendations`等，以支撑新的功能需求。
* **数据流**: 所有用户交互、AI决策、数据更新都遵循L.I.G.H.T.架构定义的数据流，确保实时性、一致性和可追溯性。

---

## **7. 非功能性需求 (Non-Functional Requirements)**

| 类别        | 需求描述                                                               |
|:--------- |:------------------------------------------------------------------ |
| **性能**    | 页面加载时间P90 < 1s；AI响应首字节时间(TTFT) P90 < 1s；支持1600+学生并发活跃。             |
| **安全与隐私** | 严格遵守数据隐私法规。通过Supabase RLS实现行级数据隔离。实施Prompt注入防护和输出内容过滤。学生敏感数据需脱敏处理。 |
| **可扩展性**  | 架构设计需支持未来功能的平滑扩展，如引入多模态AI、职业规划模块等。                                 |
| **可用性**   | 系统可用性 > 99.9%。UI/UX设计必须简洁直观，新用户上手时间应小于15分钟。                        |

---

## **8. 成功指标 (Success Metrics)**

| 类别        | 指标名称            | 衡量标准                               |
|:--------- |:--------------- |:---------------------------------- |
| **学生成长**  | **OKR完成率**      | 学期末，学生设定的OKR平均完成率 > 70%。           |
|           | **学业成绩**        | 试点班级的平均绩点、挂科率相较于历史数据有显著改善。         |
| **用户参与度** | **AI助手DAU/MAU** | 每日/每月活跃使用AI助手的学生比例 > 60%。          |
|           | **功能采纳率**       | OKR制定、成长画像查看等核心功能的月使用率。            |
| **教师效率**  | **教师满意度 (NPS)** | 教师对平台减少其重复性工作、提升教学效率的净推荐值。         |
| **平台价值**  | **成本效益**        | 单位学生的AI服务成本，与带来的教学效率提升、学生学业提升价值对比。 |

---

## **9. 发布计划 (Phased Rollout)**

* **第一阶段：MVP - 学生核心成长闭环 (3个月)**
  * **目标**: 验证学生AI伴侣的核心价值。
  * **功能**: User-101, OKR-101/103, STU-201/202/203/207。基础的教师查看权限。
* **第二阶段：教师赋能与协同 (4个月)**
  * **目标**: 将教师从重复工作中解放出来，实现智能预警。
  * **功能**: 在一阶段基础上，增加TEA-301/302/304, STU-204/206, OKR-102。
* **第三阶段：学院智能与深度融合 (5个月)**
  * **目标**: 打通学院级数据洞察，并与AIP平台深度集成。
  * **功能**: 在二阶段基础上，增加ADM-401/402, TEA-303, STU-205, INT-501/502。

---

## **10. 未来展望 (Future Vision)**

在平台稳定运行后，我们将探索以下方向：

* **多模态AI交互**: 支持语音、图像输入进行学习辅导。
* **智能生涯规划**: AI根据学生的成长画像和行业趋势，提供更精准的实习、就业和深造建议。
* **自适应学习内容**: AI根据学生的实时表现，动态生成个性化的练习题和学习材料。
* **教育元宇宙**: 探索结合XR技术，构建沉浸式的AI学习与项目协作环境。
